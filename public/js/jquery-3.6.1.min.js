// Minimal shim for legacy /js/jquery-3.6.1.min.js requests.
// Real jQuery is loaded from CDN in src/app/layout.tsx. This file is
// intentionally tiny to avoid serving a corrupted/local vendor bundle.

(function () {
  if (typeof window === 'undefined') return;

  // If CDN jQuery already loaded, expose $.
  if (window.jQuery && !window.$) window.$ = window.jQuery;

  // Alias $ when CDN jQuery loads later.
  function aliasIfLoaded() {
    if (window.jQuery && !window.$) window.$ = window.jQuery;
  }

  if (!window.jQuery && window.addEventListener) {
    window.addEventListener('load', aliasIfLoaded, { once: true });
  }

  // Provide a small non-throwing stub until CDN jQuery is available.
  if (!window.jQuery && !window.$) {
    window.$ = function () {
      // Keep this minimal â€” log for debugging and return a safe object
      // with an `on` no-op so plugins calling $(...).on(...) don't crash.
      console.warn('jQuery stub used before CDN jQuery loaded.');
      return { on: function () {} };
    };
  }
})();
